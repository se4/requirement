# SEC 文档互评小组需求

[TOC]

## 版本记录

| 日期     | 版本 | 修改人        | 备注                                                                    |
| -------- | ---- | ------------- | ----------------------------------------------------------------------- |
| 18.12.3  | 0.1  | 徐翔哲        | 根据开会内容整理本组负责的所有用例                                      |
| 18.12.4  | 0.2  | 徐翔哲,吴新宇 | 根据开会内容整理本组负责的所有用例                                      |
| 18.12.23 | 0.3  | 吴新宇        | 更新每个评审作业只有一个文档的限制，修改需求流程，时间单位改为timestamp |

## 说明

本文档记录了文档互评系统的需求和用户系统的需求

## 术语表

|   术语   |   描述   |
| :------: | :------: |
|  course  |   课程   |
|  group   |   小组   |
| document | 文档作业 |
|  review  | 互评作业 |
| student  |   学生   |
|  create  |   创建   |
|  import  |   导入   |
|    ls    | 查看列表 |
|   vim    | 查看详情 |
|  result  | 互评结果 |
|   sum    |   汇总   |

## 用户需求

### group.create 组队

#### 基本信息

| ID       | group.create |
| -------- | ------------ |
| 名称     | 组队         |
| 创建日期 | 18/12/3      |
| 修改日期 | 18/12/23     |
| 参与者   | 学生         |
| 触发条件 | 无           |
| 优先级   | 高           |

#### 正常流程

- 1.用户选择课程
- 2.系统返回课程控制面板
- 3.用户选择小组
- 4.系统返回该课程下用户的小组
- 5.用户选择新建小组
- 6.系统返回小组基本信息，包括：
  - 小组名（长度不超过10个英文+数字）
- 7.用户填写完成并提交
- 8.系统提示新建小组成功并返回选组码（参见数据定义 选组码）

#### 扩展流程

- 6.a 如果有不合法输入，包括：
  - 小组名包含英文和数字以外的内容
  - 小组名超过10个字
  - 小组名与已有小组名重复
  - 6.a.1 系统提示用户小组名有误并要求用户重新填写

### group.join 加入小组

#### 基本信息

| ID       | group.join |
| -------- | ---------- |
| 名称     | 加入小组   |
| 创建日期 | 18/12/3    |
| 修改日期 | 18/12/23   |
| 参与者   | 学生       |
| 触发条件 | 无         |
| 优先级   | 高         |

#### 正常流程

- 1.用户选择课程
- 2.系统返回课程控制面板
- 3.用户选择小组
- 4.系统返回该课程下用户的小组
- 5.用户选择加入小组
- 6.系统提示用户输入选组码（参见数据定义 选组码）
- 7.用户输入选组码并确认
- 8.系统提示用户已加入此小组

#### 扩展流程

- 6.a 用户输入的选组码不存在对应的小组
- 6.a.1 系统提示用户输入的选组码错误
- 6.b 用户已加入此小组
- 6.b.1 系统不做特殊处理，正常进行后续流程


### group.ls 查看已加入小组列表

#### 基本信息

| ID       | group.ls           |
| -------- | ------------------ |
| 名称     | 查看已加入小组列表 |
| 创建日期 | 18/12/3            |
| 修改日期 | 18/12/23           |
| 参与者   | 学生               |
| 触发条件 | 无                 |
| 优先级   | 高                 |

#### 正常流程

- 1.用户选择课程
- 2.系统返回课程控制面板
- 3.用户选择小组
- 4.系统返回该课程下用户已加入的小组，内容为：
  - 小组名
  - 小组所属课程
  - 组长
  - 已有组员名
  - 小组人数
  - 选组码

#### 扩展流程

- 无

### course.join 加入课程

#### 基本信息

| ID       | course.join |
| -------- | ----------- |
| 名称     | 加入课程    |
| 创建日期 | 18/12/3     |
| 修改日期 | 18/12/3     |
| 参与者   | 学生        |
| 触发条件 | 无          |
| 优先级   | 高          |

#### 正常流程

- 1.用户选择加入课程
- 2.系统提示用户输入选课码（参见数据定义 选课码）
- 3.用户输入选课码并确认
- 4.系统提示用户已加入此课程

#### 扩展流程

- 3.a 用户输入的选课码不对应具体的课程
- 3.a.1 系统提示用户输入的选课码错误
- 3.b 用户已加入此课程
- 3.b.1 系统不做特殊处理，正常进行后续流程


### course.create 新建课程

#### 基本信息

| ID       | course.create |
| -------- | ------------- |
| 名称     | 新建课程      |
| 创建日期 | 18/12/3       |
| 修改日期 | 18/12/3       |
| 参与者   | 老师          |
| 触发条件 | 无            |
| 优先级   | 高            |

#### 正常流程

- 1.用户选择新建课程
- 2.系统返回课程基本信息，包括：
  - 1.课程名称 (0-500)
- 3.用户填写完成并提交
- 4.系统提示课程添加成功并返回选课码（参见 数据定义 选课码）

#### 扩展流程

- 3.a 用户存在不合要求的输入
- 3.a.1 系统提示用户对应的错误信息
- 3.b 课程已存在
- 3.b.1 系统提示用户课程已存在并要求用户重新填写


### review.create 新建互评作业

#### 基本信息

| ID       | review.create                                             |
| -------- | --------------------------------------------------------- |
| 名称     | 新建互评作业                                              |
| 创建日期 | 18/12/3                                                   |
| 修改日期 | 18/12/3                                                   |
| 参与者   | 老师                                                      |
| 触发条件 | 老师成功新建了一次文档作业，系统自动进入创建互评作业流程 |
| 优先级   | 高                                                        |

#### 正常流程

- 1.用户请求新建互评作业
- 2.系统要求用户填写互评作业信息，包括：
  - 课程（系统默认自动填写文档作业的所属课程）
  - 对应的文档作业（系统默认自动填写对应的文档作业）
  - 文档互评开始时间（yyyyMMddHH，晚于当前时间）
  - 文档互评结束时间（yyyyMMddHH，晚于开始时间）
  - 文档互评任务数（每组评价多少个文档）
  <!-- - 文档所采用的checklist（后续功能） -->
- 3.用户填写完成并提交
- 4.系统提示用户提交成功，并在互评开始时间后自动开始这次互评作业

#### 扩展流程

- 1.a 用户放弃为此次文档作业新建互评作业
- 1.a.1 系统回到文档作业流程中，不生成互评作业
- 3.a 用户输入不合要求
- 3.a.1 系统提示用户重新输入

### review.argue 对互评内容进行解释

#### 基本信息

| ID       | review.argue |
| -------- | ------------ |
| 名称     | 解释互评内容 |
| 创建日期 | 18/12/3      |
| 修改日期 | 18/12/3      |
| 参与者   | 学生         |
| 触发条件 | 无           |
| 优先级   | 高           |

#### 正常流程

- 1.0 提出异议
  - 1.学生对某一文档的某一个checklist项中某一组的评价提出异议（这一评价必须是第一次被提出异议）
  - 2.系统要求学生填写备注，备注为不超过100字中文&英文&数字&标点符号
  - 3.学生填写并提交
  - 4.系统在对应的评价小组的对应文档上作出标记
- 1.1 解决异议
  - 1.评价小组打开对应文档
  - 2.系统返回已互评结果，并将有异议的项和备注标注在其中
  - 3.参见document.review
- 1.2 对异议解决作出评价
  - 1.评价小组重新提交互评结果后，被评价小组可以对此异议的解决结果作出评价（满意/不满意）
  - 2.系统记录此评价

#### 扩展流程

- 1.0.3.a 学生备注不合法
- 1.0.3.a.1 系统提示学生重新填写


### result.sum 查看某一次已结束的互评作业的汇总结果

#### 基本信息

| ID       | result.sum         |
| -------- | ------------------ |
| 名称     | 查看已结束互评作业 |
| 创建日期 | 18/12/3            |
| 修改日期 | 18/12/3            |
| 参与者   | 老师               |
| 触发条件 | 无                 |
| 优先级   | 高                 |

#### 正常流程

- 1.0 查看某一已结束互评作业
  - 1.老师选择查看某一已结束互评作业
  - 2.系统返回已结束互评作业详细信息，包括：
    - 作业信息（参见teacher.review.vim）
    - 学生完成比例
    - 通过checklist数-学生分布图（暂定CDF）**TBD**
    - 各项checklist通过数，按通过比例升序排序
- 1.1 老师确定评分标准
  - 1.系统有SABCDF分别供老师填写对应的通过项数，其中：
    - S=100分
    - A=90分
    - B=80分
    - C=70分
    - D=60分
    - F=0分
    - 不填写的项不生效，例如老师只填了B为通过20个，则通过20个的同学有80分，不到20个的同学为0分
  - 2.系统按老师指定的标准统计分数，并找出需要人工复核的文档

#### 扩展流程

- 无


### result.check 老师复核某一文档的互评结果

#### 基本信息

| ID       | result.check           |
| -------- | ---------------------- |
| 名称     | 复核某一文档的互评结果 |
| 创建日期 | 18/12/3                |
| 修改日期 | 18/12/3                |
| 参与者   | 老师                   |
| 触发条件 | 无                     |
| 优先级   | 高                     |

#### 正常流程

- 1.0 复核系统选出的文档
  - 1.老师选择复核作业
  - 2.系统自动选出需要复核的文档（参见result.sum）
  - 3.老师点开其中某一文档进行评价（参见document.review)
  - 4.系统使用老师复核的结果更新文档得分
- 1.1 老师自己选择需要复核的文档
  - 1.老师在某次作业中按小组查看文档
  - 2.系统返回此小组文档和收到的评价
  - 3.老师对此文档进行评价（参见document.review）
  - 4.系统使用老师复核的结果更新文档得分

#### 扩展流程

- 无




### teacher.review.ls 老师查看互评作业列表

#### 基本信息

| ID       | teacher.review.ls    |
| -------- | -------------------- |
| 名称     | 老师查看互评作业列表 |
| 创建日期 | 18/12/3              |
| 修改日期 | 18/12/23             |
| 参与者   | 老师                 |
| 触发条件 | 无                   |
| 优先级   | 高                   |

#### 正常流程

- 1.老师选择查看互评作业选项
- 2.系统返回互评作业列表，列表内容包括
    - 作业名
    - 作业所属课程
    - 文档互评开始时间（timestamp）
    - 文档互评结束时间（timestamp）

#### 扩展流程
- 无


### teacher.review.vim 老师查看互评作业详情


#### 基本信息

| ID       | teacher.review.vim   |
| -------- | -------------------- |
| 名称     | 老师查看互评作业详情 |
| 创建日期 | 18/12/3              |
| 修改日期 | 18/12/23             |
| 参与者   | 老师                 |
| 触发条件 | 无                   |
| 优先级   | 高                   |

#### 正常流程

- 1.老师在互评作业列表中选择一项作业查看详情
- 2.系统返回互评作业详情
    - 作业名
    - 文档互评开始时间（timestamp）
    - 文档互评结束时间（timestamp）
    - 文档互评任务数（每组评价多少个文档）
    - 文档所采用的checklist（后续功能）

#### 扩展流程
- 无


### student.review.ls 学生查看互评作业

#### 基本信息

| ID       | student.review.ls |
| -------- | ----------------- |
| 名称     | 学生查看互评作业  |
| 创建日期 | 18/12/3           |
| 修改日期 | 18/12/3           |
| 参与者   | 学生              |
| 触发条件 | 无                |
| 优先级   | 高                |

#### 正常流程

- 1.学生进入互评作业界面
- 2.系统返回本课程所有已开始的互评作业
    - 作业名
    - 作业所属课程
    - 所属团队
    - 文档互评开始时间（timestamp）
    - 文档互评结束时间（timestamp）

#### 扩展流程
- 无


### document.ls 学生查看待互评文档

#### 基本信息

| ID       | document.ls        |
| -------- | ------------------ |
| 名称     | 学生查看待互评文档 |
| 创建日期 | 18/12/3            |
| 修改日期 | 18/12/23           |
| 参与者   | 学生               |
| 触发条件 | 无                 |
| 优先级   | 高                 |

#### 正常流程

- 1.学生选择具体的互评作业
- 2.系统返回互评作业的详细信息
    - 作业名
    - 所属团队
    - 文档互评开始时间（timestamp）
    - 文档互评结束时间（timestamp）
- 3.学生选择待互评文档列表
- 4.系统返回待互评文档列表，列表内容为
    - 所属团队
    - 是否出现审核申请

#### 扩展流程
- 无


### result.vim 学生查看互评结果

#### 基本信息

| ID       | result.vim       |
| -------- | ---------------- |
| 名称     | 学生查看互评结果 |
| 创建日期 | 18/12/3          |
| 修改日期 | 18/12/3          |
| 参与者   | 学生             |
| 触发条件 | 无               |
| 优先级   | 高               |

#### 正常流程

- 1.学生选择具体的互评作业
- 2.系统返回互评作业的详细信息
    - 作业名
    - 所属团队
    - 文档互评开始时间（timestamp）
    - 文档互评结束时间（timestamp）
- 3.学生选择互评结果
- 4.系统返回互评结果，结果为
    - 文档内容
    - 文档评价状况
        - checklist
            - 是否通过
            - 每个小组的评审细节
                - 是否通过
                - 小组名
                - 备注

#### 扩展流程
- 无

### document.review 学生互评文档

#### 基本信息

| ID       | document.review |
| -------- | --------------- |
| 名称     | 学生互评文档    |
| 创建日期 | 18/12/3         |
| 修改日期 | 18/12/3         |
| 参与者   | 学生            |
| 触发条件 | 无              |
| 优先级   | 高              |

#### 正常流程

- 1.学生选择学生选择待互评文档列表中一个具体的互评文档
- 2.系统返回评审表单
    - 文档内容
    - checklist
        - 是否通过
        - 备注（限制字数150字）
- 3.学生填写互评checklist，并提交
- 4.系统提示提交成功


#### 扩展流程
- 3.a 学生填写备注字数超过限制字数150字
    - 系统不允许输入新的字符

## 数据定义

- 选组码
  - 在每一课程内唯一确定某一小组
  - 长度不超过10
  - 包括英文大小写和数字

- 选课码
  - 在系统中唯一确定一个课程
  - 长度不超过10
  - 包括英文大小写和数字





